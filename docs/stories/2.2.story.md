# Story 2.2: λ…ΈνΈ μμ • λ° μ‚­μ  κΈ°λ¥

## π“‹ **Story κ°μ”**
**As a** λ΅κ·ΈμΈν• μ‚¬μ©μ  
**I want to** λ‚΄κ°€ μ‘μ„±ν• λ…ΈνΈλ¥Ό μμ •ν•κ³  μ‚­μ ν•  μ μλ‹¤  
**So that** λ…ΈνΈ λ‚΄μ©μ„ μ—…λ°μ΄νΈν•κ±°λ‚ λ¶ν•„μ”ν• λ…ΈνΈλ¥Ό μ κ±°ν•  μ μλ‹¤  

## π― **μμ© κΈ°μ¤€ (Acceptance Criteria)**

### AC 2.2.1: λ…ΈνΈ μμ • κΈ°λ¥
- [ ] λ…ΈνΈ λ©λ΅μ—μ„ κ° λ…ΈνΈμ— "μμ •" λ²„νΌμ΄ ν‘μ‹λλ‹¤
- [ ] "μμ •" λ²„νΌ ν΄λ¦­ μ‹ λ…ΈνΈ μμ • νμ΄μ§€λ΅ μ΄λ™ν•λ‹¤
- [ ] μμ • νμ΄μ§€μ—μ„ κΈ°μ΅΄ λ…ΈνΈμ μ λ©κ³Ό λ‚΄μ©μ΄ νΌμ— λ―Έλ¦¬ μ±„μ›μ Έ μλ‹¤
- [ ] μ λ©κ³Ό λ‚΄μ©μ„ μμ •ν•  μ μλ‹¤
- [ ] "μ €μ¥" λ²„νΌ ν΄λ¦­ μ‹ μμ •λ λ‚΄μ©μ΄ λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥λλ‹¤
- [ ] μμ • μ™„λ£ ν›„ λ…ΈνΈ λ©λ΅ νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈλλ‹¤
- [ ] `updated_at` ν•„λ“κ°€ ν„μ¬ μ‹κ°„μΌλ΅ μλ™ μ—…λ°μ΄νΈλλ‹¤

### AC 2.2.2: λ…ΈνΈ μ‚­μ  κΈ°λ¥
- [ ] λ…ΈνΈ λ©λ΅μ—μ„ κ° λ…ΈνΈμ— "μ‚­μ " λ²„νΌμ΄ ν‘μ‹λλ‹¤
- [ ] "μ‚­μ " λ²„νΌ ν΄λ¦­ μ‹ μ‚­μ  ν™•μΈ λ¨λ‹¬μ΄ ν‘μ‹λλ‹¤
- [ ] λ¨λ‹¬μ—μ„ "ν™•μΈ" ν΄λ¦­ μ‹ λ…ΈνΈκ°€ λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μκµ¬ μ‚­μ λλ‹¤
- [ ] λ¨λ‹¬μ—μ„ "μ·¨μ†" ν΄λ¦­ μ‹ μ‚­μ κ°€ μ·¨μ†λλ‹¤
- [ ] μ‚­μ  μ™„λ£ ν›„ λ…ΈνΈ λ©λ΅μ΄ μλ™μΌλ΅ μƒλ΅κ³ μΉ¨λλ‹¤
- [ ] μ‚­μ λ λ…ΈνΈλ” λ” μ΄μƒ λ©λ΅μ— ν‘μ‹λμ§€ μ•λ”λ‹¤

### AC 2.2.3: κ¶ν• λ° λ³΄μ•
- [ ] λ΅κ·ΈμΈν•μ§€ μ•μ€ μ‚¬μ©μλ” μμ •/μ‚­μ  νμ΄μ§€μ— μ ‘κ·Όν•  μ μ—†λ‹¤
- [ ] λ‹¤λ¥Έ μ‚¬μ©μμ λ…ΈνΈλ” μμ •ν•κ±°λ‚ μ‚­μ ν•  μ μ—†λ‹¤
- [ ] URLμ„ μ§μ ‘ μ…λ ¥ν•΄μ„ λ‹¤λ¥Έ μ‚¬μ©μμ λ…ΈνΈμ— μ ‘κ·Όν•λ ¤ ν•λ©΄ 403 μ—λ¬κ°€ λ°μƒν•λ‹¤

### AC 2.2.4: λ…ΈνΈ λ©λ΅ μ΅°ν λ° μ •λ ¬
- [ ] λ…ΈνΈ λ©λ΅μ„ μµμ‹ μ(updated_at DESC)μΌλ΅ μ •λ ¬ν•μ—¬ ν‘μ‹ν•λ‹¤
- [ ] μƒμ„±μΌμ, μ λ©μμΌλ΅λ„ μ •λ ¬ν•  μ μλ‹¤
- [ ] μ •λ ¬ μµμ…μ„ λ³€κ²½ν•  μ μλ” λ“λ΅­λ‹¤μ΄ λ©”λ‰΄κ°€ μ κ³µλλ‹¤
- [ ] μ„ νƒλ μ •λ ¬ μµμ…μ΄ URL μΏΌλ¦¬ νλΌλ―Έν„°μ— λ°μλλ‹¤

### AC 2.2.5: νμ΄μ§€λ„¤μ΄μ…
- [ ] ν• νμ΄μ§€λ‹Ή 12κ°μ λ…ΈνΈλ¥Ό ν‘μ‹ν•λ‹¤
- [ ] νμ΄μ§€λ„¤μ΄μ… μ»¨νΈλ΅¤(μ΄μ „/λ‹¤μ, νμ΄μ§€ λ²νΈ)μ΄ μ κ³µλλ‹¤
- [ ] ν„μ¬ νμ΄μ§€μ™€ μ „μ²΄ νμ΄μ§€ μκ°€ ν‘μ‹λλ‹¤
- [ ] URL μΏΌλ¦¬ νλΌλ―Έν„°λ΅ νμ΄μ§€ μƒνƒλ¥Ό κ΄€λ¦¬ν•λ‹¤
- [ ] λ…ΈνΈκ°€ 12κ° μ΄ν•μΈ κ²½μ° νμ΄μ§€λ„¤μ΄μ…μ„ μ¨κΈ΄λ‹¤

### AC 2.2.6: μ‚¬μ©μ κ²½ν— (UX)
- [ ] μμ •/μ‚­μ  λ²„νΌμ€ μ§κ΄€μ μ΄κ³  μ ‘κ·Όν•κΈ° μ‰¬μ΄ μ„μΉμ— λ°°μΉλλ‹¤
- [ ] μμ • μ¤‘μ—λ„ Ctrl+S λ‹¨μ¶•ν‚¤λ΅ μ €μ¥ν•  μ μλ‹¤
- [ ] μ‚­μ  ν™•μΈ λ¨λ‹¬μ€ λ…ν™•ν•κ³  μ΄ν•΄ν•κΈ° μ‰¬μ΄ λ©”μ‹μ§€λ¥Ό ν‘μ‹ν•λ‹¤
- [ ] λ΅λ”© μƒνƒμ™€ μ—λ¬ μƒνƒκ°€ μ μ ν ν‘μ‹λλ‹¤
- [ ] μ •λ ¬ λ° νμ΄μ§€λ„¤μ΄μ… λ³€κ²½ μ‹ λ¶€λ“λ¬μ΄ μ „ν™ ν¨κ³Όκ°€ μ κ³µλλ‹¤

## π—οΈ **κΈ°μ μ  κµ¬ν„ μ‚¬ν•­**

### 1. λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ (κΈ°μ΅΄ μ μ§€)
```sql
-- κΈ°μ΅΄ notes ν…μ΄λΈ” μ‚¬μ© (λ³€κ²½ μ—†μ)
-- updated_at ν•„λ“μ μλ™ μ—…λ°μ΄νΈ νΈλ¦¬κ±° ν™•μΈ ν•„μ”
```

### 2. API μ—”λ“ν¬μΈνΈ (Server Actions)
```typescript
// lib/actions/notes.tsμ— μ¶”κ°€
export async function updateNote(noteId: string, formData: UpdateNoteFormData)
export async function deleteNote(noteId: string)
export async function getNoteById(noteId: string)
export async function getNotesWithPagination(options: {
  page?: number
  limit?: number
  sortBy?: 'updated_at' | 'created_at' | 'title'
  sortOrder?: 'asc' | 'desc'
})
```

### 3. μ ν¨μ„± κ²€μ‚¬ μ¤ν‚¤λ§
```typescript
// lib/validations/notes.tsμ— μ¶”κ°€
export const updateNoteSchema = z.object({
  id: z.string().uuid('μ¬λ°”λ¥΄μ§€ μ•μ€ λ…ΈνΈ IDμ…λ‹λ‹¤'),
  title: z.string().trim().min(1, 'μ λ©μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”').max(200, 'μ λ©μ€ 200μ μ΄λ‚΄λ΅ μ…λ ¥ν•΄μ£Όμ„Έμ”'),
  content: z.string().max(10000, 'λ³Έλ¬Έμ€ 10,000μ μ΄λ‚΄λ΅ μ…λ ¥ν•΄μ£Όμ„Έμ”').optional().default(''),
})
```

### 4. νμ΄μ§€ κµ¬μ΅°
```
app/
β”β”€β”€ notes/
β”‚   β”β”€β”€ [id]/
β”‚   β”‚   β”β”€β”€ edit/
β”‚   β”‚   β”‚   β””β”€β”€ page.tsx          # λ…ΈνΈ μμ • νμ΄μ§€
β”‚   β”‚   β””β”€β”€ page.tsx              # λ…ΈνΈ μƒμ„Έ λ³΄κΈ° νμ΄μ§€ (μ„ νƒμ‚¬ν•­)
β”‚   β”β”€β”€ page.tsx                  # λ…ΈνΈ λ©λ΅ (μμ •/μ‚­μ  λ²„νΌ μ¶”κ°€)
β”‚   β””β”€β”€ new/
β”‚       β””β”€β”€ page.tsx              # κΈ°μ΅΄ λ…ΈνΈ μƒμ„± νμ΄μ§€
```

### 5. μ»΄ν¬λ„νΈ κµ¬μ΅°
```
components/
β”β”€β”€ notes/
β”‚   β”β”€β”€ note-form.tsx             # κΈ°μ΅΄ νΌ (μμ • λ¨λ“ μ§€μ› μ¶”κ°€)
β”‚   β”β”€β”€ note-list-item.tsx        # λ…ΈνΈ λ©λ΅ μ•„μ΄ν… (μμ •/μ‚­μ  λ²„νΌ ν¬ν•¨)
β”‚   β”β”€β”€ delete-note-modal.tsx     # μ‚­μ  ν™•μΈ λ¨λ‹¬
β”‚   β”β”€β”€ note-actions.tsx          # μμ •/μ‚­μ  λ²„νΌ κ·Έλ£Ή
β”‚   β”β”€β”€ notes-sort-dropdown.tsx   # μ •λ ¬ μµμ… λ“λ΅­λ‹¤μ΄
β”‚   β””β”€β”€ notes-pagination.tsx      # νμ΄μ§€λ„¤μ΄μ… μ»΄ν¬λ„νΈ
β””β”€β”€ ui/
    β”β”€β”€ modal.tsx                 # κΈ°λ³Έ λ¨λ‹¬ μ»΄ν¬λ„νΈ
    β”β”€β”€ select.tsx                # μ…€λ ‰νΈ λ°•μ¤ μ»΄ν¬λ„νΈ
    β””β”€β”€ pagination.tsx            # νμ΄μ§€λ„¤μ΄μ… UI μ»΄ν¬λ„νΈ
```

## π“ **κµ¬ν„ μ‘μ—… λ©λ΅**

### Phase 1: λ°±μ—”λ“ λ΅μ§
- [ ] `lib/actions/notes.ts`μ— `updateNote` ν•¨μ κµ¬ν„
- [ ] `lib/actions/notes.ts`μ— `deleteNote` ν•¨μ κµ¬ν„  
- [ ] `lib/actions/notes.ts`μ— `getNoteById` ν•¨μ κµ¬ν„
- [ ] `lib/actions/notes.ts`μ— `getNotesWithPagination` ν•¨μ κµ¬ν„
- [ ] `lib/validations/notes.ts`μ— `updateNoteSchema` μ¶”κ°€
- [ ] κ¶ν• κ²€μ¦ λ΅μ§ κµ¬ν„ (μ†μ μλ§ μμ •/μ‚­μ  κ°€λ¥)
- [ ] μ •λ ¬ λ° νμ΄μ§€λ„¤μ΄μ… λ΅μ§ κµ¬ν„

### Phase 2: ν”„λ΅ νΈμ—”λ“ μ»΄ν¬λ„νΈ
- [ ] `components/notes/note-form.tsx` μμ • λ¨λ“ μ§€μ› μ¶”κ°€
- [ ] `components/notes/delete-note-modal.tsx` μ‚­μ  ν™•μΈ λ¨λ‹¬ κµ¬ν„
- [ ] `components/notes/note-actions.tsx` μμ •/μ‚­μ  λ²„νΌ κ·Έλ£Ή κµ¬ν„
- [ ] `components/notes/notes-sort-dropdown.tsx` μ •λ ¬ λ“λ΅­λ‹¤μ΄ κµ¬ν„
- [ ] `components/notes/notes-pagination.tsx` νμ΄μ§€λ„¤μ΄μ… κµ¬ν„
- [ ] `components/ui/modal.tsx` κΈ°λ³Έ λ¨λ‹¬ μ»΄ν¬λ„νΈ κµ¬ν„
- [ ] `components/ui/select.tsx` μ…€λ ‰νΈ λ°•μ¤ κµ¬ν„
- [ ] `components/ui/pagination.tsx` νμ΄μ§€λ„¤μ΄μ… UI κµ¬ν„

### Phase 3: νμ΄μ§€ κµ¬ν„
- [ ] `app/notes/[id]/edit/page.tsx` λ…ΈνΈ μμ • νμ΄μ§€ κµ¬ν„
- [ ] `app/notes/page.tsx` λ…ΈνΈ λ©λ΅μ— μ •λ ¬/νμ΄μ§€λ„¤μ΄μ…/μμ •/μ‚­μ  κΈ°λ¥ μ¶”κ°€
- [ ] URL μΏΌλ¦¬ νλΌλ―Έν„° κΈ°λ° μƒνƒ κ΄€λ¦¬ κµ¬ν„
- [ ] λΌμ°ν… λ° λ„¤λΉ„κ²μ΄μ… κµ¬ν„

### Phase 4: ν…μ¤νΈ λ° κ²€μ¦
- [ ] μμ • κΈ°λ¥ λ‹¨μ„ ν…μ¤νΈ μ‘μ„±
- [ ] μ‚­μ  κΈ°λ¥ λ‹¨μ„ ν…μ¤νΈ μ‘μ„±
- [ ] νμ΄μ§€λ„¤μ΄μ… λ° μ •λ ¬ κΈ°λ¥ ν…μ¤νΈ μ‘μ„±
- [ ] κ¶ν• κ²€μ¦ ν…μ¤νΈ μ‘μ„±
- [ ] E2E ν…μ¤νΈ μ‹λ‚λ¦¬μ¤ μ‘μ„± λ° μ‹¤ν–‰

## π”— **μμ΅΄μ„±**
- **μ„ ν–‰ μ΅°κ±΄**: Story 2.1 (λ…ΈνΈ μƒμ„± κΈ°λ¥) μ™„λ£
- **κ΄€λ ¨ Epic**: Epic 2 - λ…ΈνΈ κ΄€λ¦¬
- **λ‹¤μ Story**: Story 2.3 (λ…ΈνΈ κ²€μƒ‰ λ° ν•„ν„°λ§) λλ” Story 3.1 (μμ„± λ©”λ¨ λ…Ήμ)

## π“ **μ„±κ³µ μ§€ν‘**
- [ ] μ‚¬μ©μκ°€ λ…ΈνΈλ¥Ό μ„±κ³µμ μΌλ΅ μμ •ν•  μ μλ‹¤
- [ ] μ‚¬μ©μκ°€ λ…ΈνΈλ¥Ό μ•μ „ν•κ² μ‚­μ ν•  μ μλ‹¤
- [ ] λ‹¤λ¥Έ μ‚¬μ©μμ λ…ΈνΈμ— μ ‘κ·Όν•  μ μ—†λ‹¤
- [ ] λ¨λ“  CRUD μ‘μ—…μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•λ‹¤
- [ ] μ‚¬μ©μ μΈν„°νμ΄μ¤κ°€ μ§κ΄€μ μ΄κ³  μ‚¬μ©ν•κΈ° μ‰½λ‹¤

## π¨ **UI/UX κ³ λ ¤μ‚¬ν•­**
- **μμ • λ²„νΌ**: μ—°ν•„ μ•„μ΄μ½ λλ” "μμ •" ν…μ¤νΈ
- **μ‚­μ  λ²„νΌ**: ν΄μ§€ν†µ μ•„μ΄μ½ λλ” "μ‚­μ " ν…μ¤νΈ (λΉ¨κ°„μƒ‰)
- **μ‚­μ  ν™•μΈ λ¨λ‹¬**: λ…ν™•ν• κ²½κ³  λ©”μ‹μ§€μ™€ "μ •λ§ μ‚­μ ν•μ‹κ² μµλ‹κΉ?" λ¬Έκµ¬
- **λ΅λ”© μƒνƒ**: μμ •/μ‚­μ  μ§„ν–‰ μ¤‘ λ²„νΌ λΉ„ν™μ„±ν™” λ° λ΅λ”© μ¤ν”Όλ„
- **μ„±κ³µ/μ—λ¬ ν”Όλ“λ°±**: ν† μ¤νΈ λ©”μ‹μ§€ λλ” μΈλΌμΈ λ©”μ‹μ§€

## π“± **λ°μ‘ν• κ³ λ ¤μ‚¬ν•­**
- λ¨λ°”μΌμ—μ„ μμ •/μ‚­μ  λ²„νΌμ΄ ν„°μΉν•κΈ° μ‰¬μ΄ ν¬κΈ°μ—¬μ•Ό ν•¨
- μ‚­μ  ν™•μΈ λ¨λ‹¬μ΄ λ¨λ°”μΌ ν™”λ©΄μ— μ μ ν ν‘μ‹λμ–΄μ•Ό ν•¨
- μμ • νΌμ΄ λ¨λ°”μΌμ—μ„λ„ μ‚¬μ©ν•κΈ° νΈν•΄μ•Ό ν•¨

## π”’ **λ³΄μ• κ³ λ ¤μ‚¬ν•­**
- μ„λ²„ μ‚¬μ΄λ“μ—μ„ μ‚¬μ©μ κ¶ν• κ²€μ¦ ν•„μ
- SQL μΈμ μ… λ°©μ§€λ¥Ό μ„ν• λ§¤κ°λ³€μν™”λ μΏΌλ¦¬ μ‚¬μ©
- CSRF κ³µκ²© λ°©μ§€λ¥Ό μ„ν• ν† ν° κ²€μ¦
- Rate limitingμ„ ν†µν• λ‚¨μ© λ°©μ§€

---

**μ¶”μ • κ°λ° μ‹κ°„**: 2-3μΌ  
**μ°μ„ μμ„**: High  
**λ‚μ΄λ„**: Medium  
**Story Points**: 8
